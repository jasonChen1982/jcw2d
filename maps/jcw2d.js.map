{"version":3,"sources":["RAF.js","jcw2d.js","loader.js","tween.js"],"names":["lastTime","vendors","x","length","window","requestAnimationFrame","cancelAnimationFrame","callback","currTime","Date","getTime","timeToCall","Math","max","id","setTimeout","clearTimeout","RAF","requestAnimFrame","root","this","PIXI","VERSION","blendModes","NORMAL","ADD","MULTIPLY","SCREEN","scaleModes","DEFAULT","LINEAR","NEAREST","_UID","Float32Array","Uint16Array","Uint32Array","ArrayBuffer","console","log","PI_2","PI","RTD","DTR","dontSpeek","defaultRenderOptions","view","transparent","antialias","preserveDrawingBuffer","resolution","clearBeforeRender","autoResize","sayHello","type","navigator","userAgent","toLowerCase","indexOf","args","apply","Point","y","prototype","clone","set","constructor","Matrix","a","b","c","d","tx","ty","fromArray","array","toArray","transpose","pos","newPos","applyInverse","translate","scale","rotate","angle","cos","sin","a1","c1","tx1","append","matrix","b1","d1","identity","identityMatrix","DisplayObject","position","pivot","rotation","alpha","visible","renderable","parent","worldAlpha","worldTransform","_sr","_cr","_mask","_cacheAsBitmap","_cacheIsDirty","Object","defineProperty","get","value","isMask","_generateCachedSprite","_destroyCachedSprite","updateTransform","pt","wt","rotationCache","displayObjectUpdateTransform","getBounds","EmptyRectangle","getLocalBounds","generateTexture","scaleMode","renderer","bounds","renderTexture","RenderTexture","width","height","_tempMatrix","render","updateCache","_renderCachedSprite","renderSession","_cachedSprite","gl","Sprite","call","texture","resize","destroy","DisplayObjectContainer","children","create","_width","_height","addChild","child","addChildAt","index","removeChild","splice","stage","setStageReference","Error","swapChildren","child2","index1","getChildIndex","index2","setChildIndex","currentIndex","getChildAt","removeChildAt","removeStageReference","undefined","removeChildren","beginIndex","endIndex","begin","end","range","removed","i","j","displayObjectContainerUpdateTransform","maskManager","pushMask","mask","popMask","anchor","Texture","emptyTexture","tint","blendMode","shader","baseTexture","hasLoaded","onTextureUpdate","on","bind","frame","setTexture","cachedTint","spriteBatch","fromFrame","frameId","TextureCache","fromImage","imageId","crossorigin","Stage","backgroundColor","interactive","dirty","setBackgroundColor","bgc","hex2rgb","hex","rgb2hex","rgb","Function","thisArg","bound","arguments","Array","boundArgs","concat","target","TypeError","F","proto","getNextPowerOfTwo","number","result","isPowerOfTwo","CompileVertexShader","shaderSrc","_CompileShader","VERTEX_SHADER","CompileFragmentShader","FRAGMENT_SHADER","shaderType","src","join","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","compileProgram","vertexSrc","fragmentSrc","fragmentShader","vertexShader","shaderProgram","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","SpriteShader","program","textureCount","init","useProgram","uSampler","getUniformLocation","projectionVector","offsetVector","dimensions","uMatrix","aVertexPosition","getAttribLocation","aPositionCoord","aScale","aRotation","aTextureCoord","colorAttribute","attributes","deleteProgram","uniforms","WebGLRenderer","options","devicePixelRatio","document","createElement","contextLostBound","handleContextLost","contextRestoredBound","handleContextRestored","addEventListener","_contextOptions","premultipliedAlpha","stencil","projection","offset","shaderManager","WebGLShaderManager","WebGLMaskManager","blendModeManager","WebGLBlendModeManager","initContext","mapBlendModes","getContext","disable","DEPTH_TEST","CULL_FACE","enable","BLEND","setContext","contextLost","clearColor","clear","COLOR_BUFFER_BIT","renderDisplayObject","displayObject","buffer","setBlendMode","style","viewport","updateTexture","_glTextures","createTexture","bindTexture","TEXTURE_2D","pixelStorei","UNPACK_PREMULTIPLY_ALPHA_WEBGL","texImage2D","RGBA","UNSIGNED_BYTE","source","texParameteri","TEXTURE_MAG_FILTER","mipmap","TEXTURE_MIN_FILTER","LINEAR_MIPMAP_LINEAR","NEAREST_MIPMAP_NEAREST","generateMipmap","_powerOf2","TEXTURE_WRAP_S","REPEAT","TEXTURE_WRAP_T","CLAMP_TO_EDGE","_dirty","event","preventDefault","key","blendModesWebGL","ONE","ONE_MINUS_SRC_ALPHA","SRC_ALPHA","DST_ALPHA","DST_COLOR","currentBlendMode","blendModeWebGL","blendFunc","maskData","STENCIL_TEST","depthMask","colorMask","stencilFunc","ALWAYS","stencilOp","KEEP","REPLACE","EQUAL","exports","module","define","amd","ImagesLoad","opts","sprite","OKNum","errNum","totalNum","imagesLoad","JC","This","img","Image","onload","imagesLoaded","onerror","getResult","TWEEN","easeBoth","t","extend"],"mappings":"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","file":"../modules/jcw2d.js","sourcesContent":["(function() {\n    var lastTime = 0;\n    var vendors = ['ms', 'moz', 'webkit', 'o'];\n    for(var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n        window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\n        window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] ||\n            window[vendors[x] + 'CancelRequestAnimationFrame'];\n    }\n\n    if (!window.requestAnimationFrame) {\n        window.requestAnimationFrame = function(callback) {\n            var currTime = new Date().getTime();\n            var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n            var id = window.setTimeout(function() { callback(currTime + timeToCall); },\n              timeToCall);\n            lastTime = currTime + timeToCall;\n            return id;\n        };\n    }\n\n    if (!window.cancelAnimationFrame) {\n        window.cancelAnimationFrame = function(id) {\n            clearTimeout(id);\n        };\n    }\n\n    window.RAF = window.requestAnimFrame = window.requestAnimationFrame;\n})();","(function() {\n\n    var root = this;\n\n    var PIXI = PIXI || {};\n\n    PIXI.VERSION = \"v0.0.5\";\n\n    PIXI.blendModes = {\n        NORMAL: 0,\n        ADD: 1,\n        MULTIPLY: 2,\n        SCREEN: 3\n    };\n\n    PIXI.scaleModes = {\n        DEFAULT: 0,\n        LINEAR: 0,\n        NEAREST: 1\n    };\n\n    PIXI._UID = 0;\n\n    if (typeof(Float32Array) != 'undefined') {\n        PIXI.Float32Array = Float32Array;\n        PIXI.Uint16Array = Uint16Array;\n\n        PIXI.Uint32Array = Uint32Array;\n        PIXI.ArrayBuffer = ArrayBuffer;\n    } else {\n        console.log('%c not support', 'color: #fff;background: #f00;');\n    }\n\n    PIXI.PI_2 = Math.PI * 2;\n\n    PIXI.RTD = 180 / Math.PI;\n\n    PIXI.DTR = Math.PI / 180;\n\n    PIXI.dontSpeek = false;\n\n    PIXI.defaultRenderOptions = {\n        view: null,\n        transparent: false,\n        antialias: false,\n        preserveDrawingBuffer: false,\n        resolution: 1,\n        clearBeforeRender: true,\n        autoResize: false\n    };\n\n    PIXI.sayHello = function(type) {\n        if (PIXI.dontSpeek) return;\n\n        if (navigator.userAgent.toLowerCase().indexOf('chrome') > -1) {\n            var args = [\n                '%c %c %c Pixi.js ' + PIXI.VERSION + ' - ' + type + '  %c ' + ' %c ' + ' http://www.pixijs.com/  %c %c ♥%c♥%c♥ ',\n                'background: #ff66a5',\n                'background: #ff66a5',\n                'color: #ff66a5; background: #030307;',\n                'background: #ff66a5',\n                'background: #ffc3dc',\n                'background: #ff66a5',\n                'color: #ff2424; background: #fff',\n                'color: #ff2424; background: #fff',\n                'color: #ff2424; background: #fff'\n            ];\n\n            console.log.apply(console, args);\n        }\n\n        PIXI.dontSpeek = true;\n    };\n\n\n    PIXI.Point = function(x, y) {\n        this.x = x || 0;\n\n        this.y = y || 0;\n    };\n    PIXI.Point.prototype.clone = function() {\n        return new PIXI.Point(this.x, this.y);\n    };\n    PIXI.Point.prototype.set = function(x, y) {\n        this.x = x || 0;\n        this.y = y || ((y !== 0) ? this.x : 0);\n    };\n    PIXI.Point.prototype.constructor = PIXI.Point;\n\n\n    /**\n     * The Matrix class is now an object, which makes it a lot faster, \n     * here is a representation of it : \n     * | a | b | tx|\n     * | c | d | ty|\n     * | 0 | 0 | 1 |\n     *\n     * @class Matrix\n     * @constructor\n     */\n    PIXI.Matrix = function() {\n        this.a = 1;\n        this.b = 0;\n        this.c = 0;\n        this.d = 1;\n        this.tx = 0;\n        this.ty = 0;\n    };\n    PIXI.Matrix.prototype.fromArray = function(array) {\n        this.a = array[0];\n        this.b = array[1];\n        this.c = array[3];\n        this.d = array[4];\n        this.tx = array[2];\n        this.ty = array[5];\n    };\n    PIXI.Matrix.prototype.toArray = function(transpose) {\n        if (!this.array) this.array = new PIXI.Float32Array(9);\n        var array = this.array;\n\n        if (transpose) {\n            array[0] = this.a;\n            array[1] = this.b;\n            array[2] = 0;\n            array[3] = this.c;\n            array[4] = this.d;\n            array[5] = 0;\n            array[6] = this.tx;\n            array[7] = this.ty;\n            array[8] = 1;\n        } else {\n            array[0] = this.a;\n            array[1] = this.c;\n            array[2] = this.tx;\n            array[3] = this.b;\n            array[4] = this.d;\n            array[5] = this.ty;\n            array[6] = 0;\n            array[7] = 0;\n            array[8] = 1;\n        }\n\n        return array;\n    };\n    PIXI.Matrix.prototype.apply = function(pos, newPos) {\n        newPos = newPos || new PIXI.Point();\n\n        newPos.x = this.a * pos.x + this.c * pos.y + this.tx;\n        newPos.y = this.b * pos.x + this.d * pos.y + this.ty;\n\n        return newPos;\n    };\n    PIXI.Matrix.prototype.applyInverse = function(pos, newPos) {\n        newPos = newPos || new PIXI.Point();\n\n        var id = 1 / (this.a * this.d + this.c * -this.b);\n\n        newPos.x = this.d * id * pos.x + -this.c * id * pos.y + (this.ty * this.c - this.tx * this.d) * id;\n        newPos.y = this.a * id * pos.y + -this.b * id * pos.x + (-this.ty * this.a + this.tx * this.b) * id;\n\n        return newPos;\n    };\n    PIXI.Matrix.prototype.translate = function(x, y) {\n        this.tx += x;\n        this.ty += y;\n\n        return this;\n    };\n    PIXI.Matrix.prototype.scale = function(x, y) {\n        this.a *= x;\n        this.d *= y;\n        this.c *= x;\n        this.b *= y;\n        this.tx *= x;\n        this.ty *= y;\n\n        return this;\n    };\n    PIXI.Matrix.prototype.rotate = function(angle) {\n        var cos = Math.cos(angle);\n        var sin = Math.sin(angle);\n\n        var a1 = this.a;\n        var c1 = this.c;\n        var tx1 = this.tx;\n\n        this.a = a1 * cos - this.b * sin;\n        this.b = a1 * sin + this.b * cos;\n        this.c = c1 * cos - this.d * sin;\n        this.d = c1 * sin + this.d * cos;\n        this.tx = tx1 * cos - this.ty * sin;\n        this.ty = tx1 * sin + this.ty * cos;\n\n        return this;\n    };\n    PIXI.Matrix.prototype.append = function(matrix) {\n        var a1 = this.a;\n        var b1 = this.b;\n        var c1 = this.c;\n        var d1 = this.d;\n\n        this.a = matrix.a * a1 + matrix.b * c1;\n        this.b = matrix.a * b1 + matrix.b * d1;\n        this.c = matrix.c * a1 + matrix.d * c1;\n        this.d = matrix.c * b1 + matrix.d * d1;\n\n        this.tx = matrix.tx * a1 + matrix.ty * c1 + this.tx;\n        this.ty = matrix.tx * b1 + matrix.ty * d1 + this.ty;\n\n        return this;\n    };\n    PIXI.Matrix.prototype.identity = function() {\n        this.a = 1;\n        this.b = 0;\n        this.c = 0;\n        this.d = 1;\n        this.tx = 0;\n        this.ty = 0;\n\n        return this;\n    };\n\n    PIXI.identityMatrix = new PIXI.Matrix();\n\n\n\n    PIXI.DisplayObject = function() {\n        this.position = new PIXI.Point();\n        this.scale = new PIXI.Point(1, 1);\n        this.pivot = new PIXI.Point();\n        this.rotation = 0;\n        this.alpha = 1;\n        this.visible = true;\n        // this.hitArea = null;\n        this.renderable = false;\n        this.parent = null;\n        // this.stage = null;\n        this.worldAlpha = 1;\n        this.worldTransform = new PIXI.Matrix();\n        this._sr = 0;\n        this._cr = 1;\n\n        this._mask = null;\n\n        this._cacheAsBitmap = false;\n\n        this._cacheIsDirty = false;\n    };\n\n    PIXI.DisplayObject.prototype.constructor = PIXI.DisplayObject;\n\n    // Object.defineProperty(PIXI.DisplayObject.prototype, 'worldVisible', {\n    //     get: function() {\n    //         var item = this;\n\n    //         do {\n    //             if (!item.visible) return false;\n    //             item = item.parent;\n    //         }\n    //         while (item);\n\n    //         return true;\n    //     }\n    // });\n\n    Object.defineProperty(PIXI.DisplayObject.prototype, 'mask', {\n        get: function() {\n            return this._mask;\n        },\n        set: function(value) {\n\n            if (this._mask) this._mask.isMask = false;\n            this._mask = value;\n            if (this._mask) this._mask.isMask = true;\n        }\n    });\n\n    Object.defineProperty(PIXI.DisplayObject.prototype, 'cacheAsBitmap', {\n\n        get: function() {\n            return this._cacheAsBitmap;\n        },\n\n        set: function(value) {\n\n            if (this._cacheAsBitmap === value) return;\n\n            if (value) {\n                this._generateCachedSprite();\n            } else {\n                this._destroyCachedSprite();\n            }\n\n            this._cacheAsBitmap = value;\n        }\n    });\n\n    PIXI.DisplayObject.prototype.updateTransform = function() {\n        var pt = this.parent.worldTransform;\n        var wt = this.worldTransform;\n\n        var a, b, c, d, tx, ty;\n\n        if (this.rotation % PIXI.PI_2) {\n            if (this.rotation !== this.rotationCache) {\n                this.rotationCache = this.rotation;\n                this._sr = Math.sin(this.rotation);\n                this._cr = Math.cos(this.rotation);\n            }\n\n            a = this._cr * this.scale.x;\n            b = this._sr * this.scale.x;\n            c = -this._sr * this.scale.y;\n            d = this._cr * this.scale.y;\n            tx = this.position.x;\n            ty = this.position.y;\n\n            if (this.pivot.x || this.pivot.y) {\n                tx -= this.pivot.x * a + this.pivot.y * c;\n                ty -= this.pivot.x * b + this.pivot.y * d;\n            }\n\n            wt.a = a * pt.a + b * pt.c;\n            wt.b = a * pt.b + b * pt.d;\n            wt.c = c * pt.a + d * pt.c;\n            wt.d = c * pt.b + d * pt.d;\n            wt.tx = tx * pt.a + ty * pt.c + pt.tx;\n            wt.ty = tx * pt.b + ty * pt.d + pt.ty;\n\n\n        } else {\n            a = this.scale.x;\n            d = this.scale.y;\n\n            tx = this.position.x - this.pivot.x * a;\n            ty = this.position.y - this.pivot.y * d;\n\n            wt.a = a * pt.a;\n            wt.b = a * pt.b;\n            wt.c = d * pt.c;\n            wt.d = d * pt.d;\n            wt.tx = tx * pt.a + ty * pt.c + pt.tx;\n            wt.ty = tx * pt.b + ty * pt.d + pt.ty;\n        }\n\n        this.worldAlpha = this.alpha * this.parent.worldAlpha;\n    };\n\n    PIXI.DisplayObject.prototype.displayObjectUpdateTransform = PIXI.DisplayObject.prototype.updateTransform;\n\n    PIXI.DisplayObject.prototype.getBounds = function(matrix) {\n        matrix = matrix; //just to get passed js hinting (and preserve inheritance)\n        return PIXI.EmptyRectangle;\n    };\n\n    PIXI.DisplayObject.prototype.getLocalBounds = function() {\n        return this.getBounds(PIXI.identityMatrix);\n    };\n\n    PIXI.DisplayObject.prototype.generateTexture = function(resolution, scaleMode, renderer) {\n        var bounds = this.getLocalBounds();\n\n        var renderTexture = new PIXI.RenderTexture(bounds.width | 0, bounds.height | 0, renderer, scaleMode, resolution);\n\n        PIXI.DisplayObject._tempMatrix.tx = -bounds.x;\n        PIXI.DisplayObject._tempMatrix.ty = -bounds.y;\n\n        renderTexture.render(this, PIXI.DisplayObject._tempMatrix);\n\n        return renderTexture;\n    };\n\n    PIXI.DisplayObject.prototype.updateCache = function() {\n        this._generateCachedSprite();\n    };\n\n    PIXI.DisplayObject.prototype._renderCachedSprite = function(renderSession) {\n        this._cachedSprite.worldAlpha = this.worldAlpha;\n\n        if (renderSession.gl) PIXI.Sprite.prototype.render.call(this._cachedSprite, renderSession);\n    };\n\n    PIXI.DisplayObject.prototype._generateCachedSprite = function() {\n        this._cacheAsBitmap = false;\n        var bounds = this.getLocalBounds();\n\n        if (!this._cachedSprite) {\n            var renderTexture = new PIXI.RenderTexture(bounds.width | 0, bounds.height | 0);\n            this._cachedSprite = new PIXI.Sprite(renderTexture);\n            this._cachedSprite.worldTransform = this.worldTransform;\n        } else {\n            this._cachedSprite.texture.resize(bounds.width | 0, bounds.height | 0);\n        }\n\n        this._cacheAsBitmap = true;\n    };\n\n    PIXI.DisplayObject.prototype._destroyCachedSprite = function() {\n        if (!this._cachedSprite) return;\n\n        this._cachedSprite.texture.destroy(true);\n\n        this._cachedSprite = null;\n    };\n\n    PIXI.DisplayObject.prototype.render = function(renderSession) {\n        // OVERWRITE;\n        // this line is just here to pass jshinting :)\n        renderSession = renderSession;\n    };\n\n    PIXI.DisplayObject._tempMatrix = new PIXI.Matrix();\n\n    Object.defineProperty(PIXI.DisplayObject.prototype, 'x', {\n        get: function() {\n            return this.position.x;\n        },\n        set: function(value) {\n            this.position.x = value;\n        }\n    });\n\n    Object.defineProperty(PIXI.DisplayObject.prototype, 'y', {\n        get: function() {\n            return this.position.y;\n        },\n        set: function(value) {\n            this.position.y = value;\n        }\n    });\n\n\n\n    PIXI.DisplayObjectContainer = function() {\n        PIXI.DisplayObject.call(this);\n\n        this.children = [];\n    };\n\n    PIXI.DisplayObjectContainer.prototype = Object.create(PIXI.DisplayObject.prototype);\n    PIXI.DisplayObjectContainer.prototype.constructor = PIXI.DisplayObjectContainer;\n\n    Object.defineProperty(PIXI.DisplayObjectContainer.prototype, 'width', {\n        get: function() {\n            return this.scale.x * this.getLocalBounds().width;\n        },\n        set: function(value) {\n\n            var width = this.getLocalBounds().width;\n\n            if (width !== 0) {\n                this.scale.x = value / width;\n            } else {\n                this.scale.x = 1;\n            }\n\n            this._width = value;\n        }\n    });\n\n    Object.defineProperty(PIXI.DisplayObjectContainer.prototype, 'height', {\n        get: function() {\n            return this.scale.y * this.getLocalBounds().height;\n        },\n        set: function(value) {\n\n            var height = this.getLocalBounds().height;\n\n            if (height !== 0) {\n                this.scale.y = value / height;\n            } else {\n                this.scale.y = 1;\n            }\n\n            this._height = value;\n        }\n    });\n\n    PIXI.DisplayObjectContainer.prototype.addChild = function(child) {\n        return this.addChildAt(child, this.children.length);\n    };\n\n    PIXI.DisplayObjectContainer.prototype.addChildAt = function(child, index) {\n        if (index >= 0 && index <= this.children.length) {\n            if (child.parent) {\n                child.parent.removeChild(child);\n            }\n\n            child.parent = this;\n\n            this.children.splice(index, 0, child);\n\n            if (this.stage) child.setStageReference(this.stage);\n\n            return child;\n        } else {\n            throw new Error(child + 'addChildAt: The index ' + index + ' supplied is out of bounds ' + this.children.length);\n        }\n    };\n\n    PIXI.DisplayObjectContainer.prototype.swapChildren = function(child, child2) {\n        if (child === child2) {\n            return;\n        }\n\n        var index1 = this.getChildIndex(child);\n        var index2 = this.getChildIndex(child2);\n\n        if (index1 < 0 || index2 < 0) {\n            throw new Error('swapChildren: Both the supplied DisplayObjects must be a child of the caller.');\n        }\n\n        this.children[index1] = child2;\n        this.children[index2] = child;\n\n    };\n\n    PIXI.DisplayObjectContainer.prototype.getChildIndex = function(child) {\n        var index = this.children.indexOf(child);\n        if (index === -1) {\n            throw new Error('The supplied DisplayObject must be a child of the caller');\n        }\n        return index;\n    };\n\n    PIXI.DisplayObjectContainer.prototype.setChildIndex = function(child, index) {\n        if (index < 0 || index >= this.children.length) {\n            throw new Error('The supplied index is out of bounds');\n        }\n        var currentIndex = this.getChildIndex(child);\n        this.children.splice(currentIndex, 1); //remove from old position\n        this.children.splice(index, 0, child); //add at new position\n    };\n\n    PIXI.DisplayObjectContainer.prototype.getChildAt = function(index) {\n        if (index < 0 || index >= this.children.length) {\n            throw new Error('getChildAt: Supplied index ' + index + ' does not exist in the child list, or the supplied DisplayObject must be a child of the caller');\n        }\n        return this.children[index];\n\n    };\n\n    PIXI.DisplayObjectContainer.prototype.removeChild = function(child) {\n        var index = this.children.indexOf(child);\n        if (index === -1) return;\n\n        return this.removeChildAt(index);\n    };\n\n    PIXI.DisplayObjectContainer.prototype.removeChildAt = function(index) {\n        var child = this.getChildAt(index);\n        if (this.stage)\n            child.removeStageReference();\n\n        child.parent = undefined;\n        this.children.splice(index, 1);\n        return child;\n    };\n\n    PIXI.DisplayObjectContainer.prototype.removeChildren = function(beginIndex, endIndex) {\n        var begin = beginIndex || 0;\n        var end = typeof endIndex === 'number' ? endIndex : this.children.length;\n        var range = end - begin;\n\n        if (range > 0 && range <= end) {\n            var removed = this.children.splice(begin, range);\n            for (var i = 0; i < removed.length; i++) {\n                var child = removed[i];\n                if (this.stage)\n                    child.removeStageReference();\n                child.parent = undefined;\n            }\n            return removed;\n        } else if (range === 0 && this.children.length === 0) {\n            return [];\n        } else {\n            throw new Error('removeChildren: Range Error, numeric values are outside the acceptable range');\n        }\n    };\n\n    PIXI.DisplayObjectContainer.prototype.updateTransform = function() {\n        if (!this.visible) return;\n\n        this.displayObjectUpdateTransform();\n\n        for (var i = 0, j = this.children.length; i < j; i++) {\n            this.children[i].updateTransform();\n        }\n    };\n\n    PIXI.DisplayObjectContainer.prototype.displayObjectContainerUpdateTransform = PIXI.DisplayObjectContainer.prototype.updateTransform;\n\n    PIXI.DisplayObjectContainer.prototype.render = function(renderSession) {\n        if (!this.visible || this.alpha <= 0) return;\n\n        if (this._cacheAsBitmap) {\n            this._renderCachedSprite(renderSession);\n            return;\n        }\n\n        var i, j;\n\n        if (this._mask) {\n\n            if (this._mask) {\n                renderSession.maskManager.pushMask(this.mask, renderSession);\n            }\n\n            // simple render children!\n            for (i = 0, j = this.children.length; i < j; i++) {\n                this.children[i].render(renderSession);\n            }\n\n            if (this._mask) renderSession.maskManager.popMask(this._mask, renderSession);\n\n        } else {\n            // simple render children!\n            for (i = 0, j = this.children.length; i < j; i++) {\n                this.children[i].render(renderSession);\n            }\n        }\n    };\n\n\n\n\n    PIXI.Sprite = function(texture) {\n        PIXI.DisplayObjectContainer.call(this);\n\n        this.anchor = new PIXI.Point();\n\n        this.texture = texture || PIXI.Texture.emptyTexture;\n\n        this._width = 0;\n\n        this._height = 0;\n\n        this.tint = 0xFFFFFF;\n\n        this.blendMode = PIXI.blendModes.NORMAL;\n\n        this.shader = null;\n\n        if (this.texture.baseTexture.hasLoaded) {\n            this.onTextureUpdate();\n        } else {\n            this.texture.on('update', this.onTextureUpdate.bind(this));\n        }\n\n        this.renderable = true;\n\n    };\n\n    PIXI.Sprite.prototype = Object.create(PIXI.DisplayObjectContainer.prototype);\n    PIXI.Sprite.prototype.constructor = PIXI.Sprite;\n\n    Object.defineProperty(PIXI.Sprite.prototype, 'width', {\n        get: function() {\n            return this.scale.x * this.texture.frame.width;\n        },\n        set: function(value) {\n            this.scale.x = value / this.texture.frame.width;\n            this._width = value;\n        }\n    });\n\n    Object.defineProperty(PIXI.Sprite.prototype, 'height', {\n        get: function() {\n            return this.scale.y * this.texture.frame.height;\n        },\n        set: function(value) {\n            this.scale.y = value / this.texture.frame.height;\n            this._height = value;\n        }\n    });\n\n    PIXI.Sprite.prototype.setTexture = function(texture) {\n        this.texture = texture;\n        this.cachedTint = 0xFFFFFF;\n    };\n\n    PIXI.Sprite.prototype.onTextureUpdate = function() {\n        if (this._width) this.scale.x = this._width / this.texture.frame.width;\n        if (this._height) this.scale.y = this._height / this.texture.frame.height;\n    };\n\n    PIXI.Sprite.prototype.render = function(renderSession) {\n        if (!this.visible || this.alpha <= 0) return;\n\n        var i, j;\n\n        // do a quick check to see if this element has a mask or a filter.\n        if (this._mask) {\n\n            if (this._mask) {\n                renderSession.maskManager.pushMask(this.mask, renderSession);\n            }\n\n            // add this sprite to the batch\n            renderSession.spriteBatch.render(this);\n\n            // now loop through the children and make sure they get rendered\n            for (i = 0, j = this.children.length; i < j; i++) {\n                this.children[i].render(renderSession);\n            }\n\n            // time to stop the sprite batch as either a mask element or a filter draw will happen next\n\n            if (this._mask) renderSession.maskManager.popMask(this._mask, renderSession);\n        } else {\n            renderSession.spriteBatch.render(this);\n\n            // simple render children!\n            for (i = 0, j = this.children.length; i < j; i++) {\n                this.children[i].render(renderSession);\n            }\n\n        }\n    };\n\n    PIXI.Sprite.fromFrame = function(frameId) {\n        var texture = PIXI.TextureCache[frameId];\n        if (!texture) throw new Error('The frameId \"' + frameId + '\" does not exist in the texture cache' + this);\n        return new PIXI.Sprite(texture);\n    };\n\n    PIXI.Sprite.fromImage = function(imageId, crossorigin, scaleMode) {\n        var texture = PIXI.Texture.fromImage(imageId, crossorigin, scaleMode);\n        return new PIXI.Sprite(texture);\n    };\n\n\n\n\n    PIXI.Stage = function(backgroundColor) {\n        PIXI.DisplayObjectContainer.call(this);\n\n        this.worldTransform = new PIXI.Matrix();\n\n        this.interactive = true;\n\n        this.dirty = true;\n\n        this.stage = this;\n\n        this.setBackgroundColor(backgroundColor);\n    };\n\n    PIXI.Stage.prototype = Object.create(PIXI.DisplayObjectContainer.prototype);\n    PIXI.Stage.prototype.constructor = PIXI.Stage;\n\n    PIXI.Stage.prototype.updateTransform = function() {\n        this.worldAlpha = 1;\n\n        for (var i = 0, j = this.children.length; i < j; i++) {\n            this.children[i].updateTransform();\n        }\n    };\n\n    PIXI.Stage.prototype.setBackgroundColor = function(bgc) {\n        if (typeof bgc === 'number') return;\n        this.backgroundColor = PIXI.hex2rgb(bgc);\n    };\n\n\n\n    PIXI.hex2rgb = function(hex) {\n        return [(hex >> 16 & 0xFF) / 255, (hex >> 8 & 0xFF) / 255, (hex & 0xFF) / 255];\n    };\n\n    PIXI.rgb2hex = function(rgb) {\n        return ((rgb[0] * 255 << 16) + (rgb[1] * 255 << 8) + rgb[2] * 255);\n    };\n\n    /**\n     * A polyfill for Function.prototype.bind\n     *\n     * @method bind\n     */\n    if (typeof Function.prototype.bind !== 'function') {\n        Function.prototype.bind = (function() {\n            return function(thisArg) {\n                var target = this,\n                    i = arguments.length - 1,\n                    boundArgs = [];\n                if (i > 0) {\n                    boundArgs.length = i;\n                    while (i--) boundArgs[i] = arguments[i + 1];\n                }\n\n                if (typeof target !== 'function') throw new TypeError();\n\n                function bound() {\n                    var i = arguments.length,\n                        args = new Array(i);\n                    while (i--) args[i] = arguments[i];\n                    args = boundArgs.concat(args);\n                    return target.apply(this instanceof bound ? this : thisArg, args);\n                }\n\n                bound.prototype = (function F(proto) {\n                    if (proto) F.prototype = proto;\n                    if (!(this instanceof F)) return new F();\n                })(target.prototype);\n\n                return bound;\n            };\n        })();\n    }\n\n    PIXI.getNextPowerOfTwo = function(number) {\n        if (number > 0 && (number & (number - 1)) === 0) // see: http://goo.gl/D9kPj\n            return number;\n        else {\n            var result = 1;\n            while (result < number) result <<= 1;\n            return result;\n        }\n    };\n\n    PIXI.isPowerOfTwo = function(width, height) {\n        return (width > 0 && (width & (width - 1)) === 0 && height > 0 && (height & (height - 1)) === 0);\n\n    };\n\n\n\n    PIXI.CompileVertexShader = function(gl, shaderSrc) {\n        return PIXI._CompileShader(gl, shaderSrc, gl.VERTEX_SHADER);\n    };\n\n    PIXI.CompileFragmentShader = function(gl, shaderSrc) {\n        return PIXI._CompileShader(gl, shaderSrc, gl.FRAGMENT_SHADER);\n    };\n\n    PIXI._CompileShader = function(gl, shaderSrc, shaderType) {\n        var src = shaderSrc.join(\"\\n\");\n        var shader = gl.createShader(shaderType);\n        gl.shaderSource(shader, src);\n        gl.compileShader(shader);\n\n        if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n            window.console.log(gl.getShaderInfoLog(shader));\n            return null;\n        }\n\n        return shader;\n    };\n\n    PIXI.compileProgram = function(gl, vertexSrc, fragmentSrc) {\n        var fragmentShader = PIXI.CompileFragmentShader(gl, fragmentSrc);\n        var vertexShader = PIXI.CompileVertexShader(gl, vertexSrc);\n\n        var shaderProgram = gl.createProgram();\n\n        gl.attachShader(shaderProgram, vertexShader);\n        gl.attachShader(shaderProgram, fragmentShader);\n        gl.linkProgram(shaderProgram);\n\n        if (!gl.getProgramParameter(shaderProgram, gl.LINK_STATUS)) {\n            window.console.log(\"Could not initialise shaders\");\n        }\n\n        return shaderProgram;\n    };\n\n\n\n    PIXI.SpriteShader = function(gl) {\n        this._UID = PIXI._UID++;\n\n        this.gl = gl;\n\n        this.program = null;\n\n        this.fragmentSrc = [\n            'precision lowp float;',\n            'varying vec2 vTextureCoord;',\n            'varying float vColor;',\n            'uniform sampler2D uSampler;',\n            'void main(void) {',\n            '   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;',\n            '}'\n        ];\n\n        this.vertexSrc = [\n            'attribute vec2 aVertexPosition;',\n            'attribute vec2 aPositionCoord;',\n            'attribute vec2 aScale;',\n            'attribute float aRotation;',\n            'attribute vec2 aTextureCoord;',\n            'attribute float aColor;',\n\n            'uniform vec2 projectionVector;',\n            'uniform vec2 offsetVector;',\n            'uniform mat3 uMatrix;',\n\n            'varying vec2 vTextureCoord;',\n            'varying float vColor;',\n\n            'const vec2 center = vec2(-1.0, 1.0);',\n\n            'void main(void) {',\n            '   vec2 v;',\n            '   vec2 sv = aVertexPosition * aScale;',\n            '   v.x = (sv.x) * cos(aRotation) - (sv.y) * sin(aRotation);',\n            '   v.y = (sv.x) * sin(aRotation) + (sv.y) * cos(aRotation);',\n            '   v = ( uMatrix * vec3(v + aPositionCoord , 1.0) ).xy ;',\n            '   gl_Position = vec4( ( v / projectionVector) + center , 0.0, 1.0);',\n            '   vTextureCoord = aTextureCoord;',\n            //  '   vec3 color = mod(vec3(aColor.y/65536.0, aColor.y/256.0, aColor.y), 256.0) / 256.0;',\n            '   vColor = aColor;',\n            '}'\n        ];\n\n        this.textureCount = 0;\n\n        this.init();\n    };\n\n    PIXI.SpriteShader.prototype.constructor = PIXI.SpriteShader;\n\n    PIXI.SpriteShader.prototype.init = function() {\n        var gl = this.gl;\n\n        var program = PIXI.compileProgram(gl, this.vertexSrc, this.fragmentSrc);\n\n        gl.useProgram(program);\n\n        this.uSampler = gl.getUniformLocation(program, 'uSampler');\n\n        this.projectionVector = gl.getUniformLocation(program, 'projectionVector');\n        this.offsetVector = gl.getUniformLocation(program, 'offsetVector');\n        this.dimensions = gl.getUniformLocation(program, 'dimensions');\n        this.uMatrix = gl.getUniformLocation(program, 'uMatrix');\n\n        this.aVertexPosition = gl.getAttribLocation(program, 'aVertexPosition');\n        this.aPositionCoord = gl.getAttribLocation(program, 'aPositionCoord');\n\n        this.aScale = gl.getAttribLocation(program, 'aScale');\n        this.aRotation = gl.getAttribLocation(program, 'aRotation');\n\n        this.aTextureCoord = gl.getAttribLocation(program, 'aTextureCoord');\n        this.colorAttribute = gl.getAttribLocation(program, 'aColor');\n\n\n\n        if (this.colorAttribute === -1) {\n            this.colorAttribute = 2;\n        }\n\n        this.attributes = [this.aVertexPosition, this.aPositionCoord, this.aScale, this.aRotation, this.aTextureCoord, this.colorAttribute];\n\n        // End worst hack eva //\n\n        this.program = program;\n    };\n\n    PIXI.SpriteShader.prototype.destroy = function() {\n        this.gl.deleteProgram(this.program);\n        this.uniforms = null;\n        this.gl = null;\n\n        this.attributes = null;\n    };\n\n\n\n    PIXI.WebGLRenderer = function(width, height, options) {\n        if (options) {\n            for (var i in PIXI.defaultRenderOptions) {\n                if (typeof options[i] === 'undefined') options[i] = PIXI.defaultRenderOptions[i];\n            }\n        } else {\n            options = PIXI.defaultRenderOptions;\n        }\n\n        // PIXI.sayHello('webGL');\n\n        this.resolution = options.resolution || window.devicePixelRatio;\n\n        this.transparent = options.transparent;\n\n        this.autoResize = options.autoResize || false;\n\n        this.clearBeforeRender = options.clearBeforeRender || true;\n\n        this.width = width || 800;\n\n        this.height = height || 600;\n\n        this.view = options.view || document.createElement('canvas');\n\n        this.contextLostBound = this.handleContextLost.bind(this);\n\n        this.contextRestoredBound = this.handleContextRestored.bind(this);\n\n        this.view.addEventListener('webglcontextlost', this.contextLostBound, false);\n        this.view.addEventListener('webglcontextrestored', this.contextRestoredBound, false);\n\n        this._contextOptions = {\n            alpha: this.transparent,\n            antialias: options.antialias, // SPEED UP??\n            premultipliedAlpha: this.transparent && this.transparent !== 'notMultiplied',\n            stencil: true,\n            preserveDrawingBuffer: options.preserveDrawingBuffer\n        };\n\n        this.projection = new PIXI.Point();\n\n        this.offset = new PIXI.Point(0, 0);\n\n        this.shaderManager = new PIXI.WebGLShaderManager();\n\n        this.maskManager = new PIXI.WebGLMaskManager();\n\n        // this.stencilManager = new PIXI.WebGLStencilManager();\n\n        this.blendModeManager = new PIXI.WebGLBlendModeManager();\n\n        this.renderSession = {};\n        this.renderSession.gl = this.gl;\n        this.renderSession.shaderManager = this.shaderManager;\n        this.renderSession.maskManager = this.maskManager;\n        this.renderSession.blendModeManager = this.blendModeManager;\n        // this.renderSession.stencilManager = this.stencilManager;\n        this.renderSession.renderer = this;\n        this.renderSession.resolution = this.resolution;\n\n        // time init the context..\n        this.initContext();\n\n        // map some webGL blend modes..\n        this.mapBlendModes();\n    };\n\n    // constructor\n    PIXI.WebGLRenderer.prototype.constructor = PIXI.WebGLRenderer;\n\n    /**\n     * @method initContext\n     */\n    PIXI.WebGLRenderer.prototype.initContext = function() {\n        var gl = this.view.getContext('webgl', this._contextOptions) || this.view.getContext('experimental-webgl', this._contextOptions);\n        this.gl = gl;\n\n        if (!gl) {\n            // fail, not able to get a context\n            throw new Error('This browser does not support webGL. Try using the canvas renderer');\n        }\n\n        // set up the default pixi settings..\n        gl.disable(gl.DEPTH_TEST);\n        gl.disable(gl.CULL_FACE);\n        gl.enable(gl.BLEND);\n\n        // need to set the context for all the managers...\n        this.shaderManager.setContext(gl);\n        this.maskManager.setContext(gl);\n        this.blendModeManager.setContext(gl);\n\n        this.renderSession.gl = this.gl;\n\n        // now resize and we are good to go!\n        this.resize(this.width, this.height);\n\n    };\n\n    PIXI.WebGLRenderer.prototype.render = function(stage) {\n        // no point rendering if our context has been blown up!\n        if (this.contextLost) return;\n\n        // update the scene graph\n        stage.updateTransform();\n\n        var gl = this.gl;\n\n        // make sure we are bound to the main frame buffer\n        // gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\n        if (this.clearBeforeRender) {\n            if (this.transparent) {\n                gl.clearColor(0, 0, 0, 0);\n            } else {\n                gl.clearColor(stage.backgroundColor[0], stage.backgroundColor[1], stage.backgroundColor[2], 1);\n            }\n\n            gl.clear(gl.COLOR_BUFFER_BIT);\n        }\n\n        this.renderDisplayObject(stage, this.projection);\n    };\n\n    PIXI.WebGLRenderer.prototype.renderDisplayObject = function(displayObject, projection, buffer) {\n        this.renderSession.blendModeManager.setBlendMode(PIXI.blendModes.NORMAL);\n\n        // set the default projection\n        this.renderSession.projection = projection;\n\n        //set the default offset\n        this.renderSession.offset = this.offset;\n\n        // start the sprite batch\n        this.spriteBatch.begin(this.renderSession);\n\n        // render the scene!\n        displayObject.render(this.renderSession);\n\n        // finish the sprite batch\n        this.spriteBatch.end();\n    };\n\n    PIXI.WebGLRenderer.prototype.resize = function(width, height) {\n        this.width = width * this.resolution;\n        this.height = height * this.resolution;\n\n        this.view.width = this.width;\n        this.view.height = this.height;\n\n        if (this.autoResize) {\n            this.view.style.width = this.width / this.resolution + 'px';\n            this.view.style.height = this.height / this.resolution + 'px';\n        }\n\n        this.gl.viewport(0, 0, this.width, this.height);\n\n        this.projection.x = this.width / 2 / this.resolution;\n        this.projection.y = -this.height / 2 / this.resolution;\n    };\n\n    PIXI.WebGLRenderer.prototype.updateTexture = function(texture) {\n        if (!texture.hasLoaded) return;\n\n        var gl = this.gl;\n\n        if (!texture._glTextures[gl.id]) texture._glTextures[gl.id] = gl.createTexture();\n\n        gl.bindTexture(gl.TEXTURE_2D, texture._glTextures[gl.id]);\n\n        gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, texture.premultipliedAlpha);\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, texture.source);\n\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, texture.scaleMode === PIXI.scaleModes.LINEAR ? gl.LINEAR : gl.NEAREST);\n\n\n        if (texture.mipmap && PIXI.isPowerOfTwo(texture.width, texture.height)) {\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, texture.scaleMode === PIXI.scaleModes.LINEAR ? gl.LINEAR_MIPMAP_LINEAR : gl.NEAREST_MIPMAP_NEAREST);\n            gl.generateMipmap(gl.TEXTURE_2D);\n        } else {\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, texture.scaleMode === PIXI.scaleModes.LINEAR ? gl.LINEAR : gl.NEAREST);\n        }\n\n        // reguler...\n        if (!texture._powerOf2) {\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n        } else {\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT);\n        }\n\n        texture._dirty[gl.id] = false;\n\n        return texture._glTextures[gl.id];\n    };\n\n    PIXI.WebGLRenderer.prototype.handleContextLost = function(event) {\n        event.preventDefault();\n        this.contextLost = true;\n    };\n\n    PIXI.WebGLRenderer.prototype.handleContextRestored = function() {\n        this.initContext();\n\n        for (var key in PIXI.TextureCache) {\n            var texture = PIXI.TextureCache[key].baseTexture;\n            texture._glTextures = [];\n        }\n\n        this.contextLost = false;\n    };\n\n    PIXI.WebGLRenderer.prototype.mapBlendModes = function() {\n        var gl = this.gl;\n\n        if (!PIXI.blendModesWebGL) {\n            PIXI.blendModesWebGL = [];\n\n            PIXI.blendModesWebGL[PIXI.blendModes.NORMAL]      = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];\n            PIXI.blendModesWebGL[PIXI.blendModes.ADD]         = [gl.SRC_ALPHA, gl.DST_ALPHA];\n            PIXI.blendModesWebGL[PIXI.blendModes.MULTIPLY]    = [gl.DST_COLOR, gl.ONE_MINUS_SRC_ALPHA];\n            PIXI.blendModesWebGL[PIXI.blendModes.SCREEN]      = [gl.SRC_ALPHA, gl.ONE];\n        }\n    };\n\n    PIXI.WebGLBlendModeManager = function() {\n        this.currentBlendMode = 99999;\n    };\n\n    PIXI.WebGLBlendModeManager.prototype.constructor = PIXI.WebGLBlendModeManager;\n\n    PIXI.WebGLBlendModeManager.prototype.setContext = function(gl) {\n        this.gl = gl;\n    };\n\n    PIXI.WebGLBlendModeManager.prototype.setBlendMode = function(blendMode) {\n        if (this.currentBlendMode === blendMode) return false;\n\n        this.currentBlendMode = blendMode;\n\n        var blendModeWebGL = PIXI.blendModesWebGL[this.currentBlendMode];\n        this.gl.blendFunc(blendModeWebGL[0], blendModeWebGL[1]);\n\n        return true;\n    };\n\n    PIXI.WebGLBlendModeManager.prototype.destroy = function() {\n        this.gl = null;\n    };\n\n\n\n\n    PIXI.WebGLMaskManager = function() {};\n\n    PIXI.WebGLMaskManager.prototype.constructor = PIXI.WebGLMaskManager;\n\n    PIXI.WebGLMaskManager.prototype.setContext = function(gl) {\n        this.gl = gl;\n    };\n\n    PIXI.WebGLMaskManager.prototype.pushMask = function(maskData, renderSession) {\n        var gl = renderSession.gl;\n\n\n        gl.enable(gl.STENCIL_TEST);\n        gl.depthMask(false);\n        gl.colorMask(false, false, false, false);\n        gl.stencilFunc(gl.ALWAYS, 1, ~0);\n        gl.stencilOp(gl.KEEP, gl.REPLACE, gl.REPLACE);\n\n        // maskData.render();\n\n        gl.depthMask(true);\n        gl.colorMask(true, true, true, true);\n        gl.stencilFunc(gl.EQUAL, 1, ~0);\n        gl.stencilOp(gl.KEEP, gl.KEEP, gl.KEEP);\n    };\n\n    PIXI.WebGLMaskManager.prototype.popMask = function() {\n        var gl = this.gl;\n        gl.disable(gl.STENCIL_TEST);\n    };\n\n    PIXI.WebGLMaskManager.prototype.destroy = function() {\n        this.gl = null;\n    };\n\n\n    /**\n     * @author Mat Groves http://matgroves.com/ @Doormat23\n     */\n\n    if (typeof exports !== 'undefined') {\n        if (typeof module !== 'undefined' && module.exports) {\n            exports = module.exports = PIXI;\n        }\n        exports.PIXI = PIXI;\n    } else if (typeof define !== 'undefined' && define.amd) {\n        define(PIXI);\n    } else {\n        root.PIXI = PIXI;\n    }\n\n})(this);\n","(function(){\n\twindow.JC = window.JC||{};\n\tfunction ImagesLoad(opts){\n\t\tthis.sprite = {};\n\t\tthis.OKNum = 0;\n\t\tthis.errNum = 0;\n\t\tthis.totalNum = 0;\n\t\tthis.imagesLoad(opts);\n\t}\n\tImagesLoad.prototype.imagesLoad = function (opts){\n\t\tvar This = this;\n\t\tfor(var img in opts){\n\t\t\tthis.sprite[img] = new Image();\n\t\t\tthis.totalNum++;\n\t\t\tthis.sprite[img].onload = function (){\n\t\t\t\tThis.OKNum++;\n\t\t\t\tif(This.OKNum>=This.totalNum){\n\t\t\t\t\tThis.imagesLoaded();\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.sprite[img].onerror = function (){\n\t\t\t\tThis.errNum++;\n\t\t\t};\n\t\t\tthis.sprite[img].src = opts[img];\n\t\t}\n\t};\n\tImagesLoad.prototype.imagesLoaded = null;\n\tImagesLoad.prototype.getResult = function (id){\n\t\treturn this.sprite[id];\n\t};\n\tJC.ImagesLoad = ImagesLoad;\n\t/* 结束 纹理预加载 */\n})();","(function() {\n\n\twindow.JC = window.JC||{};\n\n\tJC.TWEEN = {\n\t\teaseBoth: function(t, b, c, d){  //加速减速曲线\n\t\t\tif ((t/=d/2) < 1) {\n\t\t\t\treturn c/2*t*t + b;\n\t\t\t}\n\t\t\treturn -c/2 * ((--t)*(t-2) - 1) + b;\n\t\t},\n\t\textend: function(opts){\n\t\t\tif(!opts)return;\n\t\t\tfor(var key in opts){\n\t\t\t\tif(key!=='extend'&&opts[key])this[key]=opts[key];\n\t\t\t}\n\t\t}\n\t};\n\n})();"]}